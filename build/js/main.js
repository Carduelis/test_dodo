!function(){var e={problems:["вид&nbsp;напитка","внешний&nbsp;вид продукта","ожидание&nbsp;заказа","тесто","дружелюбность","ингредиенты","ингредиенты не&nbsp;по&nbsp;стандарту"],pizzerias:["Анива","Апатиты","Апрелевка","Апшеронск","Аргаяш","Ардон","Арзамас","Армавир","Арсеньев","Артем","Верхний Тагил","Верхний Уфалей","Верхотурье","Верхоянск","Видное","Вилюйск","Витим","Владивосток","Владикавказ","Карпинск","Карталы","Касимов","Каспийск","Катав-Ивановск","Катайск","Качканар","Кашира","Плесецк","Подольск","Поронайск","Поярково","Приморско-Ахтарск","Приозерск","Прохладный","Ростов-на-Дону","Рубцовск","Руза","Рыбинск","Салават","Салехард","Сальск","Самара","Санкт-Петербург","Саранск","Сарапул","Саратов","Хабаровск","Ханты-Мансийск","Хасавюрт","Челябинск","Черемхово","Череповец","Черкесск","Чермоз"],get pills(){for(var e=[],t=12;t>0;t--)e[t]=_.random(40,100);return e}},t=function(t,a){function o(){return _.random(1.1,1.9)}return t++,{rank:t,quality:_.random(Math.floor(13+25/t),40),service:_.random(Math.floor(15+25/t),40),cleanliness:_.random(Math.floor(10+9/t),20),get ratingIntegerPart(){return Math.floor(this.averageRating)},get ratingDecimalPart(){return(100*(-this.ratingIntegerPart+this.averageRating)).toFixed()},get rating(){var e=this.quality+this.service+this.cleanliness,t=_.random(0,1);return t?e+.5:e},averageRating:100-t*o(),delta:_.random(-5,5),isHideTheRow:a,isMakeAGap:20==t,pills:e.pills,pizzeriaName:_.sample(e.pizzerias),problems:_.sampleSize(e.problems,_.random(1,3)),url:_.random(.1,.9)>.7?null:"//ya.ru?="+_.random(1,9)}};window.dodoCollection=function(){var a=[],o=0;for(var n in e.pizzerias){var i=2==n||n>4&&8>n||n>22&&22>n;i&&o++,a.push(t(+n-o,i))}return a}}();var DodoApp=Marionette.Application.extend({region:"#dodo-app",initialize:function(e){console.log("kek")},onStart:function(){console.log("kek"),this.getRegion().show(new Root.View)}});$(function(){(new DodoApp).start()});var Root=Root||{};Root.View=Marionette.View.extend({template:"#t-root",regions:{header:{el:".header",replaceElement:!0},table:{el:".table",replaceElement:!0},footer:{el:".footer",replaceElement:!0}},onRender:function(){this.getRegion("table").show(new Table.View),this.getRegion("header").show(new Root.Header),this.getRegion("footer").show(new Root.Footer)},onChildviewShuffle:function(){this.getRegion("table").show(new Table.View)}}),Root.Header=Marionette.View.extend({template:"#t-header",className:"wrapper",tagName:"header",ui:{shuffleBtn:".shuffleBtn",imageBtn:".toggleImage"},events:{"click @ui.imageBtn":"toggleImage"},triggers:{"click @ui.shuffleBtn":"shuffle"},toggleImage:function(e){$("body").toggleClass("show-image"),$btn=this.getUI("imageBtn");var t=$btn.text(),a=$btn.attr("data-temp");$btn.text(a),$btn.attr("data-temp",t)}}),Root.Footer=Marionette.View.extend({template:"#t-footer",tagName:"tagName",className:"wrapper"});var Table=Table||{};Table.View=Marionette.View.extend({template:"#t-table",className:"wrapper table",regions:{header:{el:"header",replaceElement:!0},body:{el:"main",replaceElement:!0}},initialize:function(){this.render()},ui:{problem:"[data-problem-id]"},events:{"click @ui.problem":"onClick","mouseenter @ui.problem":"onHighlight","mouseleave @ui.problem":"onHighlightOff"},onHighlight:function(e){var t=e.currentTarget.dataset.problemId,a=this.$el.find('span[data-problem-id="'+t+'"]');a.css("border-color","hsla("+50*t+", 100%, 30%, 0.3)"),a.first().is("[title]")||a.attr("title","Всего таких нарушений: "+a.length)},onHighlightOff:function(e){var t=e.currentTarget.dataset.problemId;this.$el.find('span[data-problem-id="'+t+'"]').removeAttr("style")},onRender:function(e){this.getRegion("header").show(new Table.Header),this.getRegion("body").show(new Table.Body)}}),Table.Header=Marionette.View.extend({tagName:"header",className:"table-header",template:"#t-table-header"}),Table.Row=Marionette.View.extend({className:"row",template:"#t-table-row",onBeforeRender:function(e){this.model.get("isMakeAGap")&&this.$el.addClass("row-gap")}}),Table.Body=Marionette.CollectionView.extend({childView:Table.Row,tagName:"main",className:"table-body",initialize:function(){this.collection=new Backbone.Collection(dodoCollection())}});
//# sourceMappingURL=main.js.map
